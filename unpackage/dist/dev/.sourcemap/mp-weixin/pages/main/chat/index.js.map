{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/andyhu/Documents/project/chatgpt_wechat_font/pages/main/chat/index.vue?404e","webpack:////Users/andyhu/Documents/project/chatgpt_wechat_font/pages/main/chat/index.vue?637b","webpack:////Users/andyhu/Documents/project/chatgpt_wechat_font/pages/main/chat/index.vue?a84f","uni-app:///pages/main/chat/index.vue","webpack:////Users/andyhu/Documents/project/chatgpt_wechat_font/pages/main/chat/index.vue?8b9b","webpack:////Users/andyhu/Documents/project/chatgpt_wechat_font/pages/main/chat/index.vue?c770"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","computed","md","components","mpHtml","onLoad","uni","query","mgUpHeight","l","wh","onUnload","socket","data","digId","plat_logo","msgLoad","anData","animationData","showTow","msgList","my","msg","type","questionList","go","srcollHeight","userInfo","isLoginStatus","is_open_api","ai_chat_bot_api","open_api_key","changeAnswerTextContent","isReplyIng","placeholder","baseConfig","firstAskMsg","onHide","onShow","methods","updateDigId","that","initDigo","arr","initSocket","onMessage","insertChatSession","resetChat","title","duration","historyChat","copyContent","initLogin","isToLogin","util","goPag","msgMove","timingFunction","animation","msgGo","timel","setTimeout","askFirstQuest","answer","sendMsg","msgKf","onTextSend","icon","sendMessage","requestChatApi","mask","complete","url","ckAdd","ckAddScroolw","hideKey","upTowmn","initbaseConfig","clickMore","clickTask","resetModel","clickHistory"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,+QAEN;AACP,KAAK;AACL;AACA,aAAa,+QAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAk1B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACyLt2B;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALA;AAAA;EAAA;IAAA;EAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA,eACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;EACA;EACAC;IAAA;IACA;IACA;IACAC;IACA;IACA;IACA;IACA;IACAA;MACA;MACAC;QACA;QACA;QAEA;UACA;UACA;UACA;UACAC;QAEA;QACA;QACA;UACA;QACA;MACA;IACA;IACA;IAEAC;IACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAF;MACAG;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAzB;EACA;EACA0B;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;MACAC;IACA;IACAC;MAAA;MACA;MACA;QACAD;MACA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;QACA;UACA;UACAE;YACA;cACAF;gBACA;gBACA;cACA;YACA;YAEAA;cACApB;cACAC;cACAC;YACA;UACA;UACA;UACA;QACA;MACA;IACA;IACAqB;MACAhC;MACAA;IACA;IACAiC;MACA;QACA;UACA;UACA;YACA;YACA;cACA;cACA;cACA;cACA;YACA;cACA;cACA;YACA;UACA;QACA;UACA;UACA;QACA;MACA;QACA;MACA;IAGA;IACAC;MACA;MACA;MACA;QACAzB;QACAC;QACAC;MACA;MACA;IACA;IACA;IACAwB;MACA;MACA;QACA;QACA;QACA;UACA;YACAzC;cACA0C;cACAC;YACA;UACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA5C;QACA0C;QACAC;MACA;IACA;IACA;IACAE;MACA7C;QACAO;MACA;IACA;IACA;IACAuC;MACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACAC;IACA;IACA;IACAC;MACA;MACA;QACA;UACA;QACA;MAEA;IACA;IACA;IACAC;MACA;QACAP;QACAQ;MACA;MAEA;MAEAC;MAEA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;MACA;MACA;MACA;MACAC;QACA;QACAtD;UACA;UACA;YACA;UACA;UACA;UACA;UACA;UACA;YACA;YACA;cACA;YACA;cACA;cACA;YACA;UACA;QAEA;MACA;IACA;IAEAuD;MAAA;MACAD;QACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAE;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;MACA;MACA;QACA;UACA;UACA5D;YACA0C;YACAmB;YACAlB;UACA;UACA;QACA;UACA3C;YACA0C;YACAmB;YACAlB;UACA;QACA;UACAR;QACA;MACA;IACA;IACA;IACA2B;MAEA9C;MAEA;QACAhB;UACA0C;UACAmB;UACAlB;QACA;QACA;MACA;MACA;QACA;QACA;QACA;UACA;UACA;QACA;QACA;QACA;MACA;IAEA;IACAoB;MACA;MACA;MACA;QACAzE;UACAoD;UACAmB;UACAlB;UACAqB;UACAC;YACAV;cACAjD;cACAN;gBACAkE;cACA;cACA/B;YACA;UACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;UACAA;UACAA;UACAa;QACA;UACAb;UACAA;UACAa;QACA;UACAA;YACAO;cACApB;cACAA;cACA;gBACA7B;gBACAN;kBACAkE;gBACA;cACA;YACA;UACA;QACA;MACA;IAEA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IAEA;IACAC;MACArE;IACA;IACA;IACAsE;MAEA;QACA3B;QACAQ;MACA;MAEA;MAEAC;MAEA;IACA;IACAmB;MACAvB;MACA;IACA;IACAwB;MACAlE;MACAN;QACAkE;MACA;IAEA;IACAO;MACAnE;MACAN;QACAkE;MACA;IACA;IACAQ;MACApE;MACAN;QACAkE;MACA;IACA;IACAS;MACArE;MACAN;QACAkE;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACxpBA;AAAA;AAAA;AAAA;AAA6jD,CAAgB,k6CAAG,EAAC,C;;;;;;;;;;;ACAjlD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/main/chat/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/main/chat/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=d0c854f0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/main/chat/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=d0c854f0&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-row/u-row\" */ \"uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-col/u-col\" */ \"uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t\n\t\t\n\t\t<!-- 空盒子用来防止消息过少时 拉起键盘会遮盖消息 -->\n\t\t<view :animation=\"anData\" style=\"height:0;\"></view>\n\t\t\n\t\t<!--  #ifdef H5 -->\n\t\t\t<view>\n\t\t\t\t<!-- 2.0.19支持autoBack，默认为false -->\n\t\t        <u-navbar\n\t\t            title=\"聊天中心\"\n\t\t            :autoBack=\"true\"\n\t\t\t\t\t:placeholder=\"true\"\n\t\t        >\n\t\t        </u-navbar>\n\t\t\t</view>\n\t\t\t<!--  #endif -->\n\t\t\n\t\t<!-- 消息体 -->\n\t\t<scroll-view @click=\"ckAddScroolw()\" scroll-with-animation scroll-y=\"true\" @touchmove=\"hideKey\"\n\t\t\tstyle=\"width: 750rpx;\" :style=\"{'height':srcollHeight}\" :scroll-top=\"go\">\n\t\t\t<!-- 用来获取消息体高度 -->\n\t\t\t<view id=\"okk\" scroll-with-animation>\n\t\t\t\t<!-- 消息 -->\n\t\t\t\t<view class=\"flex-column-start\" v-for=\"(x,i) in msgList\" :key=\"i\">\n\n\t\t\t\t\t<!-- 用户消息 头像可选加入-->\n\t\t\t\t\t<view v-if=\"x.my\" class=\"flex justify-end padding-right one-show  align-start  padding-top\">\n\t\t\t\t\t\t<view class=\"flex justify-end\" style=\"width: 400rpx;\">\n\t\t\t\t\t\t\t<view class=\"margin-left padding-chat bg-cyan \"\n\t\t\t\t\t\t\t\tstyle=\"border-radius: 35rpx;background:#cdeffe;color:#242526 ;\">\n\t\t\t\t\t\t\t\t<text style=\"word-break: break-all;\">{{x.msg}}</text>\n\n\t\t\t\t\t\t\t\t<view style=\"margin-top: 10px;\">\n\t\t\t\t\t\t\t\t\t<u-icon @click=\"copyContent(x.msg)\" name=\"order\" color=\"#cfcfd1\" size=\"22\"></u-icon>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<image style=\"height: 75rpx;width: 75rpx;\" class=\"chat-img margin-left\" :src=\"userInfo.avatar\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 机器人消息 -->\n\t\t\t\t\t<view v-if=\"!x.my\" class=\"flex-row-start margin-left margin-top one-show\">\n\t\t\t\t\t\t<view class=\"chat-img flex-row-center\">\n\t\t\t\t\t\t\t<image style=\"height: 75rpx;width: 75rpx;\" :src=\"plat_logo\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"flex\" style=\"width: 500rpx;\">\n\t\t\t\t\t\t\t<view class=\"margin-left padding-chat flex-column-start\"\n\t\t\t\t\t\t\t\tstyle=\"border-radius: 35rpx;background-color: #f9f9f9;max-width: 250px;\">\n\t\t\t\t\t\t\t\t<!-- <text   style=\"word-break: break-all;\" >{{x.msg}}</text> -->\n\t\t\t\t\t\t\t\t<mp-html style=\"color: #000000\" :selectable=\"true\" markdown=\"markdown\"\n\t\t\t\t\t\t\t\t\t:content=\"x.msg\" />\n\n\t\t\t\t\t\t\t\t<!-- 消息模板 =>初次问候 -->\n\t\t\t\t\t\t\t\t<view class=\"flex-column-start gradient\" v-if=\"x.type==1\">\n\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: #838383;font-size: 22rpx;margin-top: 15rpx;\">请详细描述您要问的问题，例如:</text>\n\t\t\t\t\t\t\t\t\t<text @click=\"answer(item)\" style=\"margin-top: 30rpx;\"\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in x.questionList\" :key=\"index\">{{item}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view style=\"margin-top: 10px;\">\n\t\t\t\t\t\t\t\t\t<u-icon @click=\"copyContent(x.msg)\" name=\"order\" color=\"#cfcfd1\" size=\"22\"></u-icon>\n\t\t\t\t\t\t\t\t</view>\n\n\n\t\t\t\t\t\t\t\t<!-- 消息模板 =>多个答案 -->\n\t\t\t\t\t\t\t\t<view class=\"flex-column-start gradient\" v-if=\"x.type==2\">\n\t\t\t\t\t\t\t\t\t<text style=\"color: #838383;font-size: 22rpx;margin-top: 15rpx;\">猜你想问:</text>\n\t\t\t\t\t\t\t\t\t<!-- 连接服务器应该用item.id -->\n\t\t\t\t\t\t\t\t\t<text @click=\"answer(index)\" style=\"margin-top: 30rpx;\"\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in x.questionList\" :key=\"index\">{{item}}</text>\n\t\t\t\t\t\t\t\t</view>\n\n\n\t\t\t\t\t\t\t\t<!-- 消息模板 => 无法回答-->\n\t\t\t\t\t\t\t\t<view class=\"flex-column-start\" v-if=\"x.type==0\">\n\t\t\t\t\t\t\t\t\t<text class=\"padding-top-sm gradient\">提交意见与反馈</text>\n\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: #838383;font-size: 22rpx;margin-top: 15rpx;\">下面是一些常见问题,您可以点击对应的文字快速获取答案:</text>\n\t\t\t\t\t\t\t\t\t<text @click=\"answer(index)\" class=\"gradient\" style=\"margin-top: 30rpx;\"\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in x.questionList\" :key=\"index\">{{item}}</text>\n\t\t\t\t\t\t\t\t\t<view class=\"flex-row-start  padding-top-sm\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"my-neirong-sm\">没有你要的答案?</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"padding-left\" style=\"color: #1396c5;\">换一批</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\n\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- loading是显示 -->\n\t\t\t\t<view v-show=\"msgLoad\" class=\"flex-row-start margin-left margin-top\">\n\t\t\t\t\t<view class=\"chat-img flex-row-center\">\n\t\t\t\t\t\t<image style=\"height: 75rpx;width: 75rpx;\" :src=\"plat_logo\" mode=\"aspectFit\">\n\t\t\t\t\t\t</image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view style=\"width: 500rpx;\">\n\t\t\t\t\t\t<view class=\"loading\">\n\t\t\t\t\t\t\t<view class=\"dot0\"></view>\n\t\t\t\t\t\t\t<view class=\"dot1\"></view>\n\t\t\t\t\t\t\t<view class=\"dot2\"></view>\n\t\t\t\t\t\t\t<view class=\"dot3\"></view>\n\t\t\t\t\t\t\t<view class=\"dot4\"></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 防止消息底部被遮 -->\n\t\t\t\t<view style=\"height: 120rpx;\"></view>\n\t\t\t</view>\n\n\t\t</scroll-view>\n\n\t\t<!-- 底部导航栏 -->\n\t\t<view @click=\"isToLogin()\" class=\"flex-column-center\" style=\"position: fixed;bottom: -190px;\"\n\t\t\t:animation=\"animationData\">\n\t\t\t<view class=\"bottom-dh-char flex-row-around\" style=\"font-size: 55rpx;\">\n\t\t\t\t<!-- vue无法使用软键盘\"发送\" -->\n\t\t\t\t<input v-model=\"msg\" maxlength=\"-1\" class=\"dh-input\" :disabled=\"!isLoginStatus\" type=\"text\"\n\t\t\t\t\tstyle=\"background-color: #f0f0f0;font-size: 14px;\" @confirm=\"sendMsg\" confirm-type=\"search\"\n\t\t\t\t\tplaceholder-class=\"my-neirong-sm\" :placeholder=\"placeholder\" />\n\t\t\t\t<view @click=\"resetModel\" class=\"cu-tag round\" style=\"background-color: unset;padding: unset;\">\n\t\t\t\t\t<image src=\"../../../static/reset.png\" style=\"width: 52rpx;height: 52rpx;\">\n\t\t\t\t\t</image>\n\t\t\t\t</view>\n\t\t\t\t<!-- \t\t\t\t<text @click=\"ckAdd\" class=\"cuIcon-roundaddfill text-brown gradient\"></text> -->\n\t\t\t\t<view @click=\"ckAdd\" class=\"cu-tag round\" style=\"background-color: unset;padding: unset;\">\n\t\t\t\t\t<image src=\"../../../static/add.png\" style=\"width: 52rpx;height: 52rpx;\">\n\t\t\t\t\t</image>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 附加栏(自定义) -->\n\t\t\t<view class=\"box-normal \">\n\t\t\t\t<u-row justify=\"space-between\" customStyle=\"margin-bottom: 14px\">\n\t\t\t\t\t<u-col span=\"3\">\n\t\t\t\t\t\t<view @click=\"clickHistory()\" class=\"tb-text\">\n\t\t\t\t\t\t\t<image src=\"../../../static/history.png\" style=\"width: 100rpx;height: 100rpx;\">\n\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t<text>历史记录</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</u-col>\n\t\t\t\t\t<u-col span=\"3\">\n\t\t\t\t\t\t<view class=\"tb-text\">\n\t\t\t\t\t\t\t<u-button hover-class=\"none\" class=\"button-none\" open-type=\"share\"\n\t\t\t\t\t\t\t\tcustomStyle=\"height: 100rpx;border-style: unset;\">\n\t\t\t\t\t\t\t\t<image src=\"../../../static/mine_share_icon.png\" style=\"width: 100rpx;height: 100rpx;\">\n\t\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t</u-button>\n\n\t\t\t\t\t\t\t<text>分享朋友</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</u-col>\n\t\t\t\t\t<u-col span=\"3\">\n\t\t\t\t\t\t<view class=\"tb-text\">\n\t\t\t\t\t\t\t<u-button hover-class=\"none\" class=\"button-none\" open-type=\"contact\"\n\t\t\t\t\t\t\t\tcustomStyle=\"height: 100rpx;border-style: unset;\">\n\t\t\t\t\t\t\t\t<image src=\"../../../static/mine_tophone_icon.png\"\n\t\t\t\t\t\t\t\t\tstyle=\"width: 100rpx;height: 100rpx;\">\n\t\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t</u-button>\n\n\t\t\t\t\t\t\t<text>在线客服</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t</u-col>\n\t\t\t\t\t<u-col @click=\"clickMore()\" span=\"3\">\n\t\t\t\t\t\t<view class=\"tb-text\">\n\t\t\t\t\t\t\t<image src=\"../../../static/more.png\" style=\"width: 100rpx;height: 100rpx;\">\n\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t<text>更多</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</u-col>\n\t\t\t\t</u-row>\n\t\t\t</view>\n\n\n\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tlet socket = null;\n\timport request from \"../../../request/request.js\";\n\timport util from \"../../../util/util.js\";\n\timport websocket from \"../../../util/websocket.js\";\n\n\timport md from '../../../static/js/md';\n\timport mpHtml from '@/node_modules/mp-html/mp-html'\n\t// rpx和px的比率\n\tvar l\n\t// 可用窗口高度\n\tvar wh\n\t// 顶部空盒子的高度\n\tvar mgUpHeight\n\texport default {\n\t\tcomputed: {\n\t\t\tmd() {\n\t\t\t\treturn md\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tmpHtml\n\t\t},\n\t\tonLoad(options) {\n\t\t\t// this.chatchWindowsHeight();\n\t\t\tthis.initbaseConfig();\n\t\t\tuni.$on('onMessage', this.onMessage);\n\t\t\tthis.firstAskMsg = options.msg;\n\t\t\t// 如果需要缓存消息缓存msgList即可\n\t\t\t// 监听键盘拉起\n\t\t\t// 因为无法控制键盘拉起的速度,所以这里尽量以慢速处理\n\t\t\tuni.onKeyboardHeightChange(res => {\n\t\t\t\tconst query = uni.createSelectorQuery()\n\t\t\t\tquery.select('#okk').boundingClientRect(data => {\n\t\t\t\t\t// 若消息体没有超过2倍的键盘则向下移动差值,防止遮住消息体\n\t\t\t\t\tvar up = res.height * 2 - data.height - l * 110\n\n\t\t\t\t\tif (up > 0) {\n\t\t\t\t\t\t// 动态改变空盒子高度\n\t\t\t\t\t\tthis.msgMove(up, 300)\n\t\t\t\t\t\t// 记录改变的值,若不收回键盘且发送了消息用来防止消息过多被遮盖\n\t\t\t\t\t\tmgUpHeight = up\n\n\t\t\t\t\t}\n\t\t\t\t\t// 收回\n\t\t\t\t\tif (res.height == 0) {\n\t\t\t\t\t\tthis.msgMove(0, 0)\n\t\t\t\t\t}\n\t\t\t\t}).exec();\n\t\t\t})\n\t\t\tvar query = uni.getSystemInfoSync()\n\n\t\t\tl = query.screenWidth / 750\n\t\t\twh = query.windowHeight\n\t\t\tthis.srcollHeight = query.windowHeight + \"px\"\n\t\t},\n\t\tonUnload() {\n\t\t\tsocket.close()\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdigId: 0, //对话ID\n\t\t\t\tplat_logo: '',\n\t\t\t\tmsgLoad: false,\n\t\t\t\tanData: {},\n\t\t\t\tanimationData: {},\n\t\t\t\tshowTow: false,\n\t\t\t\t// 消息体,定义机器人初次的消息(或者自定义出现时机)\n\t\t\t\t// my->谁发的消息 msg->消息文本 type->客服消息模板类型 questionList->快速获取问题答案的问题列表\n\t\t\t\tmsgList: [{\n\t\t\t\t\tmy: false,\n\t\t\t\t\tmsg: \"你好，我是最牛逼的机器人,有什么您可以问我。\",\n\t\t\t\t\ttype: 1,\n\t\t\t\t\tquestionList: [\"我想要写一个50字关于花的诗句\", \"帮我写一个关于催债的律师函\", \"你觉得我帅吗\"],\n\t\t\t\t}],\n\t\t\t\tmsg: \"\",\n\t\t\t\tgo: 0,\n\t\t\t\tsrcollHeight: 0,\n\t\t\t\tuserInfo: {},\n\t\t\t\tisLoginStatus: false,\n\t\t\t\tis_open_api: '',\n\t\t\t\tai_chat_bot_api: '',\n\t\t\t\topen_api_key: '',\n\t\t\t\tchangeAnswerTextContent: '',\n\t\t\t\tisReplyIng: false,\n\t\t\t\tplaceholder: '暂时未登录,请登录!',\n\t\t\t\tbaseConfig: {},\n\t\t\t\tfirstAskMsg:\"\"\n\t\t\t}\n\t\t},\n\t\tonHide() {\n\t\t\tthis.ckAddScroolw()\n\t\t\tsocket.close()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.updateDigId();\n\t\t\tthis.initDigo();\n\t\t\tthis.initSocket();\n\t\t\tthis.initLogin();\n\t\t\tthis.plat_logo = uni.getStorageSync('baseConfig').plat_logo;\n\t\t},\n\t\tmethods: {\n\t\t\tupdateDigId() {\n\t\t\t\tlet that = this;\n\t\t\t\tthat.digId = uni.getStorageSync('digId');\n\t\t\t},\n\t\t\tinitDigo() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (util.isNotBlank(that.digId) && that.digId != 0) {\n\t\t\t\t\tthat.msgList = [];\n\t\t\t\t}\n\t\t\t\tlet param = {\n\t\t\t\t\t'sessionId': this.digId,\n\t\t\t\t\t'page': 1,\n\t\t\t\t\t'size': 20\n\t\t\t\t};\n\t\t\t\t//进行存储\n\t\t\t\trequest('', '/cricleai/diglogueprocess/listDialogue', 'POST', param, {}).then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tconst arr = res.rows;\n\t\t\t\t\t\tarr.forEach(item => {\n\t\t\t\t\t\t\tif (util.isNotBlank(item.askContent)) {\n\t\t\t\t\t\t\t\tthat.msgList.push({\n\t\t\t\t\t\t\t\t\t\"msg\": item.askContent,\n\t\t\t\t\t\t\t\t\t\"my\": true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}   \n\n\t\t\t\t\t\t\tthat.msgList.push({\n\t\t\t\t\t\t\t\tmy: false,\n\t\t\t\t\t\t\t\tmsg: item.answerContent,\n\t\t\t\t\t\t\t\ttype: -1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.msgGo(1000)\n\t\t\t\t\t\tthis.askFirstQuest()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tinitSocket() {\n\t\t\t\tsocket = new websocket();\n\t\t\t\tsocket.initSocketLogin();\n\t\t\t},\n\t\t\tonMessage(e) {\n\t\t\t\ttry {\n\t\t\t\t\tif (e != '[DONE]' && e != 'isOnlineSucc') {\n\t\t\t\t\t\tlet result = JSON.parse(e);\n\t\t\t\t\t\tif (util.isNotBlank(result.choices[0].delta.content)) {\n\t\t\t\t\t\t\t//首先判断是否回复中\n\t\t\t\t\t\t\tif (this.isReplyIng) {\n\t\t\t\t\t\t\t\t//添加机器人所说的话\n\t\t\t\t\t\t\t\tthis.msgList.pop();\n\t\t\t\t\t\t\t\t//如果回复中\n\t\t\t\t\t\t\t\tthis.insertChatSession(result.choices[0].delta.content);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.isReplyIng = true;\n\t\t\t\t\t\t\t\tthis.insertChatSession(result.choices[0].delta.content);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.changeAnswerTextContent = ''\n\t\t\t\t\t\tthis.isReplyIng = false\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.isReplyIng = false\n\t\t\t\t}\n\n\n\t\t\t},\n\t\t\tinsertChatSession(e) {\n\t\t\t\tthis.changeAnswerTextContent = this.changeAnswerTextContent + e;\n\t\t\t\tthis.msgLoad = false;\n\t\t\t\tthis.msgList.push({\n\t\t\t\t\tmy: false,\n\t\t\t\t\tmsg: this.changeAnswerTextContent,\n\t\t\t\t\ttype: -1\n\t\t\t\t});\n\t\t\t\tthis.msgGo();\n\t\t\t},\n\t\t\t//历史信息\n\t\t\tresetChat() {\n\t\t\t\tlet tbAnsweUser = uni.getStorageSync('tbAnsweUser'); //获取缓存内容\n\t\t\t\tif (tbAnsweUser) {\n\t\t\t\t\tlet replyData = {};\n\t\t\t\t\t//进行存储\n\t\t\t\t\trequest('', '/ai/reSetChat?openId=' + tbAnsweUser.answeUserOpenid, 'POST', replyData, {}).then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '重置成功',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.getUserProfile();\n\t\t\t\t}\n\t\t\t},\n\t\t\t//历史信息\n\t\t\thistoryChat() {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '开发中',\n\t\t\t\t\tduration: 2000\n\t\t\t\t});\n\t\t\t},\n\t\t\t//复制\n\t\t\tcopyContent(msg) {\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: msg\n\t\t\t\t});\n\t\t\t},\n\t\t\t//初始化看是否登录\n\t\t\tinitLogin() {\n\t\t\t\tlet userInfo = uni.getStorageSync('userInfo');\n\t\t\t\tif (userInfo) {\n\t\t\t\t\tthis.userInfo = userInfo;\n\t\t\t\t\t//此部设置用户信息,\n\t\t\t\t\tthis.isLoginStatus = true\n\t\t\t\t\tthis.placeholder = '请用简短的一句话描述您的内容'\n\t\t\t\t}\n\t\t\t},\n\t\t\t//是否登录\n\t\t\tisToLogin() {\n\t\t\t\tutil.isLogin()\n\t\t\t},\n\t\t\t// 切换输入法时移动输入框(按照官方的上推页面的原理应该会自动适应不同的键盘高度-->官方bug)\n\t\t\tgoPag(kh) {\n\t\t\t\tthis.upTowmn(0, 250)\n\t\t\t\tif (this.keyHeight != 0) {\n\t\t\t\t\tif (kh - this.keyHeight > 0) {\n\t\t\t\t\t\tthis.upTowmn(this.keyHeight - kh, 250)\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 移动顶部的空盒子\n\t\t\tmsgMove(x, t) {\n\t\t\t\tvar animation = uni.createAnimation({\n\t\t\t\t\tduration: t,\n\t\t\t\t\ttimingFunction: 'linear',\n\t\t\t\t})\n\n\t\t\t\tthis.animation = animation\n\n\t\t\t\tanimation.height(x).step()\n\n\t\t\t\tthis.anData = animation.export()\n\t\t\t},\n\t\t\t// 保持消息体可见\n\t\t\tmsgGo(e) {\n\t\t\t\tlet timel = 100;\n\t\t\t\tif (util.isNotBlank(e)) {\n\t\t\t\t\ttimel = e;\n\t\t\t\t}\n\t\t\t\tconst query = uni.createSelectorQuery()\n\t\t\t\t// 延时100ms保证是最新的高度\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// 获取消息体高度\n\t\t\t\t\tquery.select('#okk').boundingClientRect(data => {\n\t\t\t\t\t\t// 如果超过scorll高度就滚动scorll\n\t\t\t\t\t\tif (data.height - wh > 0) {\n\t\t\t\t\t\t\tthis.go = data.height - wh\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 保证键盘第一次拉起时消息体能保持可见\n\t\t\t\t\t\tvar moveY = wh - data.height + 200\n\t\t\t\t\t\t// 超出页面则缩回空盒子\n\t\t\t\t\t\tif (moveY - mgUpHeight < 0) {\n\t\t\t\t\t\t\t// 小于0则视为0\n\t\t\t\t\t\t\tif (moveY < 0) {\n\t\t\t\t\t\t\t\tthis.msgMove(0, 200)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 否则缩回盒子对应的高度\n\t\t\t\t\t\t\t\tthis.msgMove(moveY, 200)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).exec();\n\t\t\t\t}, timel)\n\t\t\t},\n\t\t\t\n\t\t\taskFirstQuest() {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (util.isNotBlank(this.firstAskMsg)) {\n\t\t\t\t\t\tvar msg = '您是世界顶级起名大师，您可以先问我3个问题，然后请帮我' + this.firstAskMsg + '，感谢！'\n\t\t\t\t\t\tthis.answer(msg)\n\t\t\t\t\t}\n\t\t\t\t}, 3000)\n\t\t\t},\n\t\t\t// 回答问题的业务逻辑\n\t\t\tanswer(askItem) {\n\t\t\t\t// 这里应该传入问题的id,模拟就用index代替了\n\t\t\t\tthis.msg = askItem;\n\t\t\t\tthis.sendMsg();\n\t\t\t},\n\t\t\tsendMsg() {\n\t\t\t\t// 消息为空不做任何操作\n\t\t\t\tif (this.msg == \"\") {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\t// 显示消息 msg消息文本,my鉴别是谁发的消息(不能用俩个消息数组循环,否则消息不会穿插)\n\t\t\t\t// this.msgList.push({\"msg\":this.msg,\"my\":true})\t\t\t\t\n\t\t\t\t// 保证消息可见\n\t\t\t\t// 回答问题\n\t\t\t\tthis.msgKf(this.msg)\n\t\t\t\t// 清除消息\n\t\t\t\tthis.msg = \"\"\n\t\t\t},\n\t\t\tmsgKf(x) {\n\t\t\t\t// this.msgGo()\n\t\t\t\tthis.onTextSend(x)\n\t\t\t},\n\t\t\t//发送消息\n\t\t\tonTextSend(x) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet userInfo = uni.getStorageSync('userInfo');\n\t\t\t\tlet checkData = {\n\t\t\t\t\t\"userId\": userInfo.userId,\n\t\t\t\t}\n\t\t\t\trequest('', '/yuan/ai/w/stream/checkIsIng', 'GET', checkData, {}).then(res => {\n\t\t\t\t\tif (res.data == true) {\n\t\t\t\t\t\t//如果返回的是true,提示,正在查询请稍后重试\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"正在回复中\",\n\t\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (res.code == 500) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.sendMessage(x, true);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 发送消息\n\t\t\tsendMessage(msg, isAppend) {\n\n\t\t\t\tmsg = msg.trim();\n\n\t\t\t\tif (!msg || msg == undefined || msg === null || msg === '') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发送内容不可为空',\n\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isAppend) {\n\t\t\t\t\t//此步进行添加内容\n\t\t\t\t\t// 显示消息 msg消息文本,my鉴别是谁发的消息(不能用俩个消息数组循环,否则消息不会穿插)\n\t\t\t\t\tthis.msgList.push({\n\t\t\t\t\t\t\"msg\": msg,\n\t\t\t\t\t\t\"my\": true\n\t\t\t\t\t})\n\t\t\t\t\tthis.msgGo();\n\t\t\t\t\tthis.requestChatApi(msg);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\trequestChatApi(prompt) {\n\t\t\t\tlet that = this;\n\t\t\t\t//跳转创建主题\n\t\t\t\tif (this.digId == 0) {\n\t\t\t\t\twx.showToast({\n\t\t\t\t\t\ttitle: \"请先新建/选择对话\",\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\tmask: false,\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tsocket.close()\n\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\turl: '/pages/main/rolefragment/rolefragment'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthat.msgList.pop()\n\t\t\t\t\t\t\t}, 1800);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t// loading\n\t\t\t\tthis.msgLoad = true;\n\t\t\t\tlet urlPost = '/yuan/ai/w/stream/chatBot';\n\t\t\t\tlet data = {\n\t\t\t\t\t\"dialogueId\": this.digId,\n\t\t\t\t\t\"prompt\": prompt,\n\t\t\t\t}\n\t\t\t\trequest('', urlPost, 'POST', data, {}).then(res => {\n\t\t\t\t\tlet msgerr = res.msg\n\t\t\t\t\tif (res.code == 500 && (msgerr.search(\"429\") != -1)) {\n\t\t\t\t\t\tthat.msgLoad = false;\n\t\t\t\t\t\tthat.msgList.pop();\n\t\t\t\t\t\tutil.message(\"访问太过频繁,请稍后重试\", 'error');\n\t\t\t\t\t}else  if (res.code == 500 && (msgerr.search(\"not locked by current\") != -1)) {\n\t\t\t\t\t\tthat.msgLoad = false;\n\t\t\t\t\t\tthat.msgList.pop();\n\t\t\t\t\t\tutil.message(\"正在回复..\" );\n\t\t\t\t\t}else if (res.code == 500) {\n\t\t\t\t\t\tutil.message(msgerr, 'error', function() {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthat.msgLoad = false;\n\t\t\t\t\t\t\t\tthat.msgList.pop();\n\t\t\t\t\t\t\t\tif (msgerr.search(\"新建对话\") != -1 ) {\n\t\t\t\t\t\t\t\t\tsocket.close()\n\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/main/rolefragment/rolefragment'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\t// 不建议输入框聚焦时操作此动画\n\t\t\tckAdd() {\n\t\t\t\tif (!this.showTow) {\n\t\t\t\t\tthis.upTowmn(-180, 350)\n\t\t\t\t} else {\n\t\t\t\t\tthis.upTowmn(0, 200)\n\t\t\t\t}\n\t\t\t\tthis.showTow = !this.showTow\n\t\t\t},\n\t\t\tckAddScroolw() {\n\t\t\t\tif (this.showTow) {\n\t\t\t\t\tthis.upTowmn(0, 200)\n\t\t\t\t\tthis.showTow = !this.showTow\n\t\t\t\t}\n\n\t\t\t},\n\t\t\thideKey() {\n\t\t\t\tuni.hideKeyboard()\n\t\t\t},\n\t\t\t// 拉起/收回附加栏\n\t\t\tupTowmn(x, t) {\n\n\t\t\t\tvar animation = uni.createAnimation({\n\t\t\t\t\tduration: t,\n\t\t\t\t\ttimingFunction: 'ease',\n\t\t\t\t})\n\n\t\t\t\tthis.animation = animation\n\n\t\t\t\tanimation.translateY(x).step()\n\n\t\t\t\tthis.animationData = animation.export()\n\t\t\t},\n\t\t\tinitbaseConfig() {\n\t\t\t\tutil.getbaseConfig()\n\t\t\t\tthis.baseConfig = uni.getStorageSync('baseConfig')\n\t\t\t},\n\t\t\tclickMore() {\n\t\t\t\tsocket.close()\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/main/minefragment/minefragment'\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tclickTask() {\n\t\t\t\tsocket.close()\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/main/joinvip/joinvip'\n\t\t\t\t})\n\t\t\t},\n\t\t\tresetModel() {\n\t\t\t\tsocket.close()\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/main/rolefragment/rolefragment'\n\t\t\t\t})\n\t\t\t},\n\t\t\tclickHistory() {\n\t\t\t\tsocket.close()\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/main/chatList/chatList'\n\t\t\t\t})\n\t\t\t}\n\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.bottom-dh-char {\n\t\tbackground-color: #f9f9f9;\n\t\twidth: 750rpx;\n\t\theight: 110rpx;\n\t\tpadding-left: 5rpx;\n\t}\n\n\t.center-box {\n\t\twidth: 720rpx;\n\t\tpadding-left: 25rpx;\n\t}\n\n\t.hui-box {\n\t\twidth: 750rpx;\n\t\theight: 100%;\n\n\t}\n\n\t.dh-input {\n\t\twidth: 620rpx;\n\t\theight: 65rpx;\n\t\tborder-radius: 15rpx;\n\t\tpadding-left: 20rpx;\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.box-normal {\n\t\twidth: 750rpx;\n\t\theight: 190px;\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.tb-text view {\n\t\tfont-size: 65rpx;\n\t}\n\n\t.tb-text text {\n\t\tfont-size: 25rpx;\n\t\tcolor: #737373;\n\t}\n\n\t.chat-img {\n\t\tborder-radius: 50%;\n\t\t// width: 100rpx;\n\t\t// height: 100rpx;\n\t\twidth: 42px;\n\t\theight: 42px;\n\t\tbackground-color: #f7f7f7;\n\t}\n\n\t.padding-chat {\n\t\tpadding: 17rpx 20rpx;\n\t}\n\n\t.tb-nv {\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t}\n\n\t.top-new {\n\t\tbackground-color: #26B3A0;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\tflex-wrap: wrap;\n\t\talign-items: center;\n\t}\n\n\t.top-reset {\n\t\twidth: 40%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin: 7px 15px;\n\t\tbackground-color: #fff;\n\t\tpadding: 3px;\n\t\tborder-radius: 5px;\n\t\tposition: relative;\n\t}\n\n\n\t@keyframes jump {\n\n\t\t0%,\n\t\t80%,\n\t\t100% {\n\t\t\ttransform: scale(0);\n\t\t\tbackground-color: #F9F9F9;\n\t\t}\n\n\t\t40% {\n\t\t\ttransform: scale(1.0);\n\t\t\tbackground-color: #3186fb;\n\t\t}\n\t}\n\n\t.dot0,\n\t.dot1,\n\t.dot2,\n\t.dot3 {\n\t\tbackground: #417e5c;\n\t\twidth: 30rpx;\n\t\theight: 30rpx;\n\t\tborder-color: #464646;\n\t\tborder-radius: 50%;\n\t\tdisplay: inline-block;\n\t}\n\n\t.dot0 {\n\t\tanimation: jump 1.3s -0.64s linear infinite;\n\t}\n\n\t.dot1 {\n\t\tanimation: jump 1.3s -0.32s linear infinite;\n\t}\n\n\t.dot2 {\n\t\tanimation: jump 1.3s -0.16s linear infinite;\n\t}\n\n\t.dot3 {\n\t\tanimation: jump 1.3s linear infinite;\n\t}\n\n\t.loading {\n\t\tpadding: 17rpx 20rpx;\n\t}\n\n\t// .gradient {\n\t// \tbackground: linear-gradient(100deg, #c399fe 0%, #3186fb 100%);\n\t// \t-webkit-background-clip: text;\n\t// \tcolor: transparent;\n\t// }\n\n\t.bg-color {\n\t\tbackground-color: unset !important;\n\t\tbackground-image: linear-gradient(100deg, #c399fe 0%, #3186fb 100%);\n\t}\n\n\t.flex-row-start {\n\t\talign-items: unset;\n\t}\n\n\tbutton::after {\n\t\tborder: none;\n\t}\n\n\t.tb-text .u-button :hover {\n\t\tbackground-color: inherit !important;\n\t\tcolor: inherit;\n\t\tborder-color: inherit;\n\t}\n\t.backImg {\n\t\twidth: 18rpx;\n\t\theight: 30rpx;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tmargin-left: 20rpx;\n\t\tmargin-top: 6rpx\n\t}\n\t.header .title {\n\t\ttext-align: center;\n\t\tfont-size: 31rpx;\n\t\tposition: relative;\n\t\tfont-weight: 600;\n\t\tcolor: #FFFFFF;\n\t\twidth: 100vw;\n\t\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\t/*  padding-top: 33px;\n\t\t    padding-bottom: 40px; */\n\t}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1685039719031\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}